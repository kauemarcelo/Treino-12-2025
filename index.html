<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Relat√≥rio de Treino</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:#0f172a;
  color:#fff;
}
header{
  background:#14532d;
  padding:14px;
  text-align:center;
  font-weight:bold;
}
.container{padding:15px}
.accordion{
  background:#020617;
  border-radius:8px;
  margin-bottom:10px;
  overflow:hidden;
}
.accordion-header{
  padding:14px;
  cursor:pointer;
  background:#022c22;
  font-weight:bold;
}
.accordion-content{
  display:none;
  padding:12px;
  background:#022c22;
}
.timer{
  text-align:center;
  font-size:28px;
  margin:12px 0;
}
.buttons{
  display:flex;
  gap:10px;
}
button{
  flex:1;
  padding:12px;
  border:none;
  border-radius:6px;
  background:#16a34a;
  color:#fff;
  font-size:15px;
  cursor:pointer;
}
button.secondary{background:#334155}
button.danger{background:#7f1d1d}
.card{
  background:#022c22;
  padding:12px;
  border-radius:8px;
  margin-bottom:10px;
  white-space:pre-wrap;
}
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  align-items:center;
  justify-content:center;
}
.modal-content{
  background:#022c22;
  padding:15px;
  width:90%;
  max-width:400px;
  border-radius:10px;
}
</style>
</head>

<body>

<header>üìã RELAT√ìRIO DE TREINO</header>

<div class="container">

<div id="treinos"></div>

<div class="timer" id="timer">00:00</div>

<div class="buttons">
  <button onclick="iniciar()">‚ñ∂Ô∏è Iniciar</button>
  <button class="secondary" onclick="finalizar()">‚èπÔ∏è Finalizar</button>
</div>

<h3>üìö Hist√≥rico</h3>

<div class="buttons" style="margin-bottom:10px">
  <button class="danger" onclick="limparHistorico()">üßπ Limpar hist√≥rico</button>
</div>

<div id="historico"></div>

</div>

<!-- MODAL EXPORTA√á√ÉO -->
<div class="modal" id="modal">
 <div class="modal-content">
  <h3>üì§ Exportar relat√≥rio</h3>
  <pre id="preview"></pre>
  <button onclick="fecharModal()" class="secondary">‚¨ÖÔ∏è Voltar</button>
  <button onclick="whats(0)">üì≤ Kaue</button>
  <button onclick="whats(1)">üì≤ Lucas</button>
  <button onclick="email(0)">‚úâÔ∏è Kaue</button>
  <button onclick="email(1)">‚úâÔ∏è Lucas</button>
 </div>
</div>

<script>
// ===== CONTATOS =====
const whatsList=[
 {nome:'Kaue',num:'11995934612'},
 {nome:'Lucas',num:'11982668958'}
];
const emailList=[
 {nome:'Kaue',mail:'kauerossi1999@gmail.com'},
 {nome:'Lucas',mail:'lcasgalindo@gmail.com'}
];

// ===== TREINOS =====
const treinos={
 "Treino A":[
  "Supino Vertical",
  "Peck Deck (isometria 3 seg)",
  "Supino Inclinado Halteres",
  "Supino Inclinado M√°quina",
  "Desenvolvimento Frontal + Lateral (M√°quina)",
  "Tr√≠ceps Pully + Tr√≠ceps Inverso",
  "Tr√≠ceps Banco (M√°quina)"
 ],
 "Treino B":[
  "Adutora + Abdutora",
  "Leg 180",
  "Agachamento Rack",
  "Cadeira Extensora",
  "Flexora em P√©",
  "Flexora Sentada"
 ],
 "Treino C":[
  "Postura",
  "Remada Cavalinho",
  "Remada Articulada",
  "Pully Articulado",
  "Puxada Baixa + Desenvolvimento Voo",
  "Rosca Martelo + Rosca Dupla",
  "Rosca Direta (W)"
 ]
};

let treinoAtual=null;
let tempo=0;
let intervalo=null;

// ===== RENDER TREINOS (ABREM AO CLICAR) =====
const treinosDiv=document.getElementById('treinos');

Object.keys(treinos).forEach(nome=>{
 const acc=document.createElement('div');
 acc.className='accordion';
 acc.innerHTML=`
  <div class="accordion-header">${nome}</div>
  <div class="accordion-content">
    ${treinos[nome].map(e=>`‚Ä¢ ${e}`).join('<br>')}
  </div>`;
 acc.querySelector('.accordion-header').onclick=()=>{
  document.querySelectorAll('.accordion-content').forEach(c=>c.style.display='none');
  acc.querySelector('.accordion-content').style.display='block';
  treinoAtual=nome;
 };
 treinosDiv.appendChild(acc);
});

// ===== TIMER =====
function iniciar(){
 if(intervalo || !treinoAtual){
  alert('Selecione um treino');
  return;
 }
 intervalo=setInterval(()=>{
  tempo++;
  timer.innerText=
    String(Math.floor(tempo/60)).padStart(2,'0')+':' +
    String(tempo%60).padStart(2,'0');
 },1000);
}

function finalizar(){
 if(!intervalo) return;
 clearInterval(intervalo);
 intervalo=null;

 const data=new Date().toLocaleString();
 let texto=`üí™ RELAT√ìRIO DE TREINO\n\n`;
 texto+=`üèãÔ∏è ${treinoAtual}\n`;
 texto+=`üìÖ ${data}\n`;
 texto+=`‚è±Ô∏è ${timer.innerText}\n\n`;
 texto+=`‚úÖ Conclu√≠do!\n\nüèãÔ∏è Exerc√≠cios:\n`;

 treinos[treinoAtual].forEach(e=>{
  texto+=`‚Ä¢ ${e}\n`;
 });

 salvarHistorico(texto);
 preview.innerText=texto;
 modal.style.display='flex';

 tempo=0;
 timer.innerText='00:00';
}

// ===== HIST√ìRICO =====
function salvarHistorico(txt){
 const lista=JSON.parse(localStorage.getItem('historicoTreino')||'[]');
 lista.unshift(txt);
 localStorage.setItem('historicoTreino',JSON.stringify(lista));
 renderHistorico();
}

function renderHistorico(){
 historico.innerHTML='';
 JSON.parse(localStorage.getItem('historicoTreino')||'[]')
 .forEach(t=>{
  const card=document.createElement('div');
  card.className='card';
  card.textContent=t;
  historico.appendChild(card);
 });
}

function limparHistorico(){
 if(!confirm('Deseja limpar todo o hist√≥rico?')) return;
 localStorage.removeItem('historicoTreino');
 renderHistorico();
}

renderHistorico();

// ===== EXPORTA√á√ÉO =====
function whats(i){
 window.open(`https://wa.me/55${whatsList[i].num}?text=${encodeURIComponent(preview.innerText)}`);
}
function email(i){
 location.href=`mailto:${emailList[i].mail}?subject=Relat√≥rio de Treino&body=${encodeURIComponent(preview.innerText)}`;
}
function fecharModal(){
 modal.style.display='none';
}
</script>

</body>
</html>
