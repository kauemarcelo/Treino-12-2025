<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Relat√≥rio de Treino</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family: Arial, Helvetica, sans-serif;
  background:#0f172a;
  color:#fff;
}
header{
  background:#14532d;
  padding:15px;
  text-align:center;
  font-weight:bold;
}
.container{
  padding:15px;
}
select, button{
  width:100%;
  padding:12px;
  margin:6px 0;
  border:none;
  border-radius:6px;
  font-size:15px;
}
select{
  background:#020617;
  color:#fff;
}
button{
  cursor:pointer;
  background:#16a34a;
  color:#fff;
}
button.secondary{
  background:#334155;
}
.timer{
  text-align:center;
  font-size:28px;
  margin:10px 0;
}
.card{
  background:#022c22;
  padding:12px;
  border-radius:8px;
  margin-bottom:10px;
}
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  align-items:center;
  justify-content:center;
}
.modal-content{
  background:#022c22;
  padding:15px;
  width:90%;
  max-width:400px;
  border-radius:10px;
}
.modal-actions button{
  margin-top:6px;
}
pre{
  white-space:pre-wrap;
}
</style>
</head>

<body>

<header>üìã RELAT√ìRIO DE TREINO</header>

<div class="container">

<select id="treinoSelect">
  <option value="Treino A">Treino A</option>
  <option value="Treino B">Treino B</option>
  <option value="Treino C">Treino C</option>
</select>

<div class="timer" id="timer">00:00</div>

<button onclick="iniciar()">‚ñ∂Ô∏è Iniciar</button>
<button class="secondary" onclick="finalizar()">‚èπÔ∏è Finalizar</button>

<h3>üìö Hist√≥rico</h3>
<div id="historico"></div>

</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-content">
    <h3>üì§ Exportar relat√≥rio</h3>
    <pre id="preview"></pre>

    <div class="modal-actions">
      <button onclick="fecharModal()" class="secondary">‚¨ÖÔ∏è Voltar</button>

      <button onclick="enviarWhats(0)">üì≤ Kaue ‚Äì 11995934612</button>
      <button onclick="enviarWhats(1)">üì≤ Lucas ‚Äì 11982668958</button>

      <button onclick="enviarEmail(0)">‚úâÔ∏è Kaue ‚Äì Gmail</button>
      <button onclick="enviarEmail(1)">‚úâÔ∏è Lucas ‚Äì Gmail</button>
    </div>
  </div>
</div>

<script>
// ================= CONTATOS =================
const contatos = {
  whats: [
    { nome:'Kaue', numero:'11995934612' },
    { nome:'Lucas', numero:'11982668958' }
  ],
  email: [
    { nome:'Kaue', endereco:'kauerossi1999@gmail.com' },
    { nome:'Lucas', endereco:'lcasgalindo@gmail.com' }
  ]
};

// ================= TREINOS =================
let inicio = null;
let intervalo = null;
let tempo = 0;
let treinoAtual = '';

const exerciciosPadrao = {
  "Treino A":[
    "Supino Vertical",
    "Peck Deck (isometria 3 seg)",
    "Supino Inclinado Halteres",
    "Supino Inclinado M√°quina",
    "Desenvolvimento Frontal + Lateral (M√°quina)",
    "Tr√≠ceps Pully + Tr√≠ceps Inverso",
    "Tr√≠ceps Banco (M√°quina)"
  ],
  "Treino B":[
    "Adutora + Abdutora",
    "Leg 180",
    "Agachamento Rack",
    "Cadeira Extensora",
    "Flexora em P√©",
    "Flexora Sentada"
  ],
  "Treino C":[
    "Postura",
    "Remada Cavalinho",
    "Remada Articulada",
    "Pully Articulado",
    "Puxada Baixa + Desenvolvimento Voo",
    "Rosca Martelo + Rosca Dupla",
    "Rosca Direta (W)"
  ]
};

function iniciar(){
  if(intervalo) return;
  treinoAtual = document.getElementById('treinoSelect').value;
  inicio = new Date();
  intervalo = setInterval(()=>{
    tempo++;
    document.getElementById('timer').innerText =
      String(Math.floor(tempo/60)).padStart(2,'0') + ':' +
      String(tempo%60).padStart(2,'0');
  },1000);
}

function finalizar(){
  if(!intervalo) return;
  clearInterval(intervalo);
  intervalo = null;

  const data = new Date().toLocaleString();

  let texto = `üí™ RELAT√ìRIO DE TREINO\n\n`;
  texto += `üèãÔ∏è ${treinoAtual}\n`;
  texto += `üìÖ Data: ${data}\n`;
  texto += `‚è±Ô∏è Dura√ß√£o: ${document.getElementById('timer').innerText}\n\n`;
  texto += `‚úÖ Conclu√≠do!\n\nüèãÔ∏è Exerc√≠cios:\n`;

  exerciciosPadrao[treinoAtual].forEach(e=>{
    texto += `‚Ä¢ ${e} ‚Äì 0kg | 0 reps\n`;
  });

  salvarHistorico(texto);
  document.getElementById('preview').innerText = texto;
  abrirModal();

  tempo = 0;
  document.getElementById('timer').innerText = '00:00';
}

// ================= HIST√ìRICO =================
function salvarHistorico(texto){
  const lista = JSON.parse(localStorage.getItem('historicoTreino') || '[]');
  lista.unshift(texto);
  localStorage.setItem('historicoTreino', JSON.stringify(lista));
  renderHistorico();
}

function renderHistorico(){
  const div = document.getElementById('historico');
  div.innerHTML = '';
  const lista = JSON.parse(localStorage.getItem('historicoTreino') || '[]');
  lista.forEach(t=>{
    const card = document.createElement('div');
    card.className = 'card';
    card.innerText = t;
    div.appendChild(card);
  });
}

// ================= MODAL =================
function abrirModal(){
  document.getElementById('modal').style.display = 'flex';
}
function fecharModal(){
  document.getElementById('modal').style.display = 'none';
}

// ================= EXPORTA√á√ÉO =================
function enviarWhats(i){
  window.open(
    `https://wa.me/55${contatos.whats[i].numero}?text=${encodeURIComponent(document.getElementById('preview').innerText)}`
  );
}

function enviarEmail(i){
  location.href =
    `mailto:${contatos.email[i].endereco}?subject=Relat√≥rio de Treino&body=${encodeURIComponent(document.getElementById('preview').innerText)}`;
}

renderHistorico();
</script>

</body>
</html>
